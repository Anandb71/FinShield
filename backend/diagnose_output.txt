============================================================
BACKBOARD API DIAGNOSTIC
============================================================

[1] Getting Assistant...
    Assistant ID: 6d85b0fa-15c3-44ed-855b-f525fda5cc55

[2] Creating Thread...
    Thread ID: 58c574f0-d86f-49d8-8ca0-61fb3208827f

[3] Sending PDF with analysis request...
    Response Status: 200

============================================================
RAW API RESPONSE:
============================================================
{
  "message": "Message added successfully",
  "thread_id": "58c574f0-d86f-49d8-8ca0-61fb3208827f",
  "content": "Here is the analysis of the document in JSON format:\n\n```json\n{\n    \"classification\": {\n        \"type\": \"invoice\",\n        \"confidence\": 0.95\n    },\n    \"extracted_fields\": {\n        \"invoice_number\": \"12345\",\n        \"vendor_name\": \"Acme Corp\",\n        \"total_amount\": \"$5,000.00\"\n    }\n}\n``` \n\nThis analysis is based on the provided information from the document \"invoice_test.pdf\". If you need further details, feel free to ask!",
  "message_id": "b2dc048f-7c9c-4158-9372-c37b767603ff",
  "role": "assistant",
  "status": "COMPLETED",
  "tool_calls": [
    {
      "id": "call_u0fg196bKW7976mOEY6XjB83",
      "type": "function",
      "function": {
        "name": "search_documents",
        "arguments": "{\"query\": \"invoice number, vendor name, total amount\"}"
      }
    }
  ],
  "run_id": "c51a1e56-accc-4a68-b23e-48cd1a040890",
  "memory_operation_id": null,
  "retrieved_memories": null,
  "retrieved_files": [
    "invoice_test.pdf"
  ],
  "model_provider": "openai",
  "model_name": "gpt-4o",
  "input_tokens": 613,
  "output_tokens": 109,
  "total_tokens": 722,
  "created_at": "2026-02-08T22:57:42",
  "attachments": [
    {
      "document_id": "510c3807-dcc5-4bf7-b809-a00e08908647",
      "filename": "invoice_test.pdf",
      "status": "indexed",
      "file_size_bytes": 651,
      "summary": "Invoice #12345 from Acme Corp with a total amount of $5,000.00."
    }
  ],
  "timestamp": "2026-02-08T22:57:46.444986"
}

============================================================
AI RESPONSE CONTENT:
============================================================
Here is the analysis of the document in JSON format:

```json
{
    "classification": {
        "type": "invoice",
        "confidence": 0.95
    },
    "extracted_fields": {
        "invoice_number": "12345",
        "vendor_name": "Acme Corp",
        "total_amount": "$5,000.00"
    }
}
``` 

This analysis is based on the provided information from the document "invoice_test.pdf". If you need further details, feel free to ask!

============================================================
ATTACHMENT STATUS:
============================================================
    File: invoice_test.pdf
    Status: indexed
    Summary: Invoice #12345 from Acme Corp with a total amount of $5,000.00.
